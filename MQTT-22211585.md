# Resumen de MQTT para IoT

## URL del chat con ChatGPT modo estudio
https://chatgpt.com/share/68db6441-3244-800f-81e4-47e7bf502454

## 1. ¿Qué es MQTT?
- **MQTT (Message Queuing Telemetry Transport)** es un **protocolo de mensajería ligero**.
- Está diseñado específicamente para **IoT (Internet de las Cosas)**.
- Funciona bajo el modelo **publish/subscribe (pub/sub)**:
  - **Publisher (emisor):** Dispositivo que envía datos (ej. sensor de temperatura).
  - **Subscriber (receptor):** Dispositivo o app que recibe datos.
  - **Broker (intermediario):** Servidor que recibe mensajes de los publishers y los distribuye a los subscribers interesados.
- Los mensajes se envían a través de **topics**, que funcionan como canales de radio organizados.

## 2. Analogías útiles
- MQTT es como un **traductor entre dispositivos**.
- Los **topics** son como **frecuencias de radio**: solo los que están sintonizados reciben el mensaje.
- El **broker** es la **torre de transmisión** que garantiza que todos los suscriptores correctos reciban el mensaje.

## 3. Conexión
- Se necesita:
  - **IP o dominio del broker** (ej. `broker.hivemq.com` o `192.168.1.10`)
  - **Puerto** (ej. 1883 sin cifrado, 8883 con TLS/SSL, 80/443 para WebSockets)
  - **Topic** donde se publican los mensajes
- La ruta del mensaje es: **Publisher → Broker → Subscriber**

## 4. Ventajas de MQTT sobre HTTP en IoT
| Característica           | MQTT                         | HTTP                       |
|---------------------------|-----------------------------|----------------------------|
| Ligereza                 | Muy ligero, pocos bytes      | Más pesado, incluye headers|
| Tiempo real               | Push inmediato a subscribers | Pull: cliente pregunta al servidor|
| Persistencia              | Sesiones persistentes, reintentos automáticos | Stateless: si se pierde la conexión, se pierde el dato|
| Calidad de entrega        | Niveles de QoS: 0, 1, 2     | Solo entrega si la conexión es buena|
| Escalabilidad             | Miles o millones de dispositivos | Menos eficiente a gran escala|

## 5. Brokers populares
- **Mosquitto** (ligero, open source)
- **HiveMQ** (profesional, con nube)
- **EMQX** (alto rendimiento)
- **Plataformas IoT tipo Blynk**: incluyen broker + app + dashboards, ideal para principiantes.

## 6. Comportamiento ante desconexión
- **MQTT:** puede almacenar mensajes pendientes y entregarlos cuando el dispositivo se reconecta.
- **HTTP:** si la conexión se corta, la sesión termina y los datos se pierden.

## 7. Resumen práctico
- MQTT es ideal para **sensores y dispositivos con poca batería o conexiones inestables**.
- Permite **comunicaciones eficientes y confiables** entre dispositivos IoT.
- Es muy fácil de aplicar con **Python** usando librerías como `paho-mqtt` o `gmqtt`.
